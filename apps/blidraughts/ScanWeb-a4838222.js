import{W as e}from"./main.js";class ScanWeb extends e{constructor(){super()}async getMaxMemory(){return Promise.resolve({value:1024})}async getCPUArch(){return Promise.resolve({value:"x86_64"})}async start({variant:e}){return new Promise((r=>{this.worker||(this.worker=new Worker(`../scan_${e}.js`),this.worker.onmessage=e=>{const r=new Event("scan");r.output=e.data,window.dispatchEvent(r)}),setTimeout(r,1)})).then((()=>this.cmd({cmd:`set-param name=variant value=${e}`})))}async cmd({cmd:e}){return new Promise((r=>{this.worker&&this.worker.postMessage(e),setTimeout(r,1)})).then((()=>{}))}async exit(){return new Promise((e=>{this.worker&&(this.worker.terminate(),this.worker=void 0),setTimeout(e,1)})).then((()=>{}))}}export{ScanWeb};
