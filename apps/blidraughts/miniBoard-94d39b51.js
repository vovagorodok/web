import{n as a,o as n,q as i,a9 as t,ay as r,e as s,az as e}from"./main.js";import{C as o}from"./CountdownTimer-ca9a10d1.js";const l={oninit({attrs:n}){this.link=n.link||a},onupdate({attrs:n}){this.link=n.link||a},view({attrs:a}){const{gameObj:r,topText:s,bottomText:e}=a,o="white"===(null==r?void 0:r.orientation);return n("div",{className:"mini_board_container"},r?c(r,o?"black":"white"):s?n("div.mini_board__text",s):null,n("div",{className:"mini_board",oncreate:i((()=>this.link()))},n("div",{className:"mini_board_helper"},n("div",{className:"mini_board_wrapper"},n(t,a)))),r?c(r,o?"white":"black"):e?n("div.mini_board__text",e):null)}};function c(a,i){const t=a[i],s=a.c&&a.c[i],e=a.fen.startsWith("B:")?"black":"white";return n("div.mini_board__player",[n("span.mini_board__user",[t.rank?`#${t.rank} `:"",r(t.title),t.name,n("span.rating",t.rating),t.berserk?n("span.berserk[data-icon=`]"):null]),a.finished?d(i,a.winner):s&&!isNaN(s)?m(i,s,e):null])}function d(a,i){const t=s.game.draughtsResult();return n("span.score",i?a===i?t?"2":"1":"0":t?"1":"Â½")}function m(a,i,t){return t===a?n(o,{seconds:i}):n("span.mini_board__clock",e(i))}export{l as M};
