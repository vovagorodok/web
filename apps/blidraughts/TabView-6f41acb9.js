import{aA as t,o as e,z as s,M as a,aB as n,aC as o}from"./main.js";import{G as i}from"./layout-26cca27d.js";var r={oninit({attrs:e}){this.onTap=s=>{const a=t(s);let n;a&&(n=a.dataset.index)&&e.onTabChange(Number(n))}},view(t){const{buttons:a,selectedIndex:n,wrapperClass:o,withBottomBorder:i=!1}=t.attrs,r=100/a.length,d={width:r+"%",transform:`translateX(${n*(r*a.length)}%)`},c={width:r+"%"};return e("div",{className:"tabs-navigation"+(o?" "+o:"")+(i?" withBorder":""),oncreate:s(this.onTap)},a.map((function(t,s){const a=["tab-button",n===s?"selected":"",t.className].join(" ");return e("button",{"data-index":s,className:a,style:c},t.label,void 0!==t.chip?e("span",{className:"chip"},t.chip):null)})),e("div",{className:"tabIndicator",style:d}))}},d={oninit({attrs:t}){this.nbTabs=t.tabs.length,this.prevIndex=t.selectedIndex},oncreate({attrs:t,dom:e}){this.gesture=new i(e,a()),this.gesture.on("swiperight",(e=>{const s=n(e.target,".tab-content");if(s){const e=s.dataset,a=Number(e.index);void 0!==a&&a>0&&t.onTabChange(a-1)}})),this.gesture.on("swipeleft",(e=>{const s=n(e.target,".tab-content");if(s){const e=s.dataset,a=Number(e.index);void 0!==a&&a<this.nbTabs-1&&t.onTabChange(a+1)}}))},onupdate({attrs:t,dom:e}){if(this.nbTabs=t.tabs.length,t.selectedIndex>this.prevIndex){const t=e.querySelector(".tab-content")||e;o(t,"left")}else if(t.selectedIndex<this.prevIndex){const t=e.querySelector(".tab-content")||e;o(t,"right")}this.prevIndex=t.selectedIndex},onremove(){this.gesture.destroy()},view({attrs:t}){const{tabs:s,selectedIndex:a}=t,n=s[a];return e("div.tabs-view-wrapper",e("div.tab-content.box",{"data-index":a,key:n.id,className:t.className},n.f()))}};export{r as T,d as a};
