var t="http://www.w3.org/1999/xhtml",n={svg:"http://www.w3.org/2000/svg",xhtml:t,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function i(t){var i=t+="",e=i.indexOf(":");return e>=0&&"xmlns"!==(i=t.slice(0,e))&&(t=t.slice(e+1)),n.hasOwnProperty(i)?{space:n[i],local:t}:t}function e(n){return function(){var i=this.ownerDocument,e=this.namespaceURI;return e===t&&i.documentElement.namespaceURI===t?i.createElement(n):i.createElementNS(e,n)}}function r(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function s(t){var n=i(t);return(n.local?r:e)(n)}var o=0;function a(){this._="@"+(++o).toString(36)}a.prototype={constructor:a,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var h=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var u=document.documentElement;if(!u.matches){var c=u.webkitMatchesSelector||u.msMatchesSelector||u.mozMatchesSelector||u.oMatchesSelector;h=function(t){return function(){return c.call(this,t)}}}}var l=h,_={};"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(_={mouseenter:"mouseover",mouseleave:"mouseout"}));function f(t,n,i){return t=p(t,n,i),function(n){var i=n.relatedTarget;i&&(i===this||8&i.compareDocumentPosition(this))||t.call(this,n)}}function p(t,n,i){return function(e){try{t.call(this,this.__data__,n,i)}finally{}}}function y(t){return function(){var n=this.__on;if(n){for(var i,e=0,r=-1,s=n.length;e<s;++e)i=n[e],t.type&&i.type!==t.type||i.name!==t.name?n[++r]=i:this.removeEventListener(i.type,i.listener,i.capture);++r?n.length=r:delete this.__on}}}function x(t,n,i){var e=_.hasOwnProperty(t.type)?f:p;return function(r,s,o){var a,h=this.__on,u=e(n,s,o);if(h)for(var c=0,l=h.length;c<l;++c)if((a=h[c]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=u,a.capture=i),void(a.value=n);this.addEventListener(t.type,u,i),a={type:t.type,name:t.name,value:n,listener:u,capture:i},h?h.push(a):this.__on=[a]}}function g(){}function d(t){return null==t?g:function(){return this.querySelector(t)}}function m(){return[]}function v(t){return new Array(t.length)}function w(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}w.prototype={constructor:w,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var b="$";function M(t,n,i,e,r,s){for(var o,a=0,h=n.length,u=s.length;a<u;++a)(o=n[a])?(o.__data__=s[a],e[a]=o):i[a]=new w(t,s[a]);for(;a<h;++a)(o=n[a])&&(r[a]=o)}function k(t,n,i,e,r,s,o){var a,h,u,c={},l=n.length,_=s.length,f=new Array(l);for(a=0;a<l;++a)(h=n[a])&&(f[a]=u=b+o.call(h,h.__data__,a,n),u in c?r[a]=h:c[u]=h);for(a=0;a<_;++a)(h=c[u=b+o.call(t,s[a],a,s)])?(e[a]=h,h.__data__=s[a],c[u]=null):i[a]=new w(t,s[a]);for(a=0;a<l;++a)(h=n[a])&&c[f[a]]===h&&(r[a]=h)}function N(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function A(t){return function(){this.removeAttribute(t)}}function S(t){return function(){this.removeAttributeNS(t.space,t.local)}}function E(t,n){return function(){this.setAttribute(t,n)}}function $(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function T(t,n){return function(){var i=n.apply(this,arguments);null==i?this.removeAttribute(t):this.setAttribute(t,i)}}function P(t,n){return function(){var i=n.apply(this,arguments);null==i?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,i)}}function q(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function C(t){return function(){this.style.removeProperty(t)}}function z(t,n,i){return function(){this.style.setProperty(t,n,i)}}function H(t,n,i){return function(){var e=n.apply(this,arguments);null==e?this.style.removeProperty(t):this.style.setProperty(t,e,i)}}function L(t){return function(){delete this[t]}}function j(t,n){return function(){this[t]=n}}function R(t,n){return function(){var i=n.apply(this,arguments);null==i?delete this[t]:this[t]=i}}function O(t){return t.trim().split(/^|\s+/)}function D(t){return t.classList||new I(t)}function I(t){this._node=t,this._names=O(t.getAttribute("class")||"")}function V(t,n){for(var i=D(t),e=-1,r=n.length;++e<r;)i.add(n[e])}function F(t,n){for(var i=D(t),e=-1,r=n.length;++e<r;)i.remove(n[e])}function B(t){return function(){V(this,t)}}function U(t){return function(){F(this,t)}}function X(t,n){return function(){(n.apply(this,arguments)?V:F)(this,t)}}function Z(){this.textContent=""}function G(t){return function(){this.textContent=t}}function Q(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function Y(){this.innerHTML=""}function J(t){return function(){this.innerHTML=t}}function K(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function W(){this.nextSibling&&this.parentNode.appendChild(this)}function tt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function nt(){return null}function it(){var t=this.parentNode;t&&t.removeChild(this)}function et(t,n,i){var e=q(t),r=e.CustomEvent;"function"==typeof r?r=new r(n,i):(r=e.document.createEvent("Event"),i?(r.initEvent(n,i.bubbles,i.cancelable),r.detail=i.detail):r.initEvent(n,!1,!1)),t.dispatchEvent(r)}function rt(t,n){return function(){return et(this,t,n)}}function st(t,n){return function(){return et(this,t,n.apply(this,arguments))}}I.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var ot=[null];function at(t,n){this._groups=t,this._parents=n}function ht(t){return"string"==typeof t?new at([[document.querySelector(t)]],[document.documentElement]):new at([[t]],ot)}function ut(t,n){return null==t||null==n?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function ct(t,n){return null==t||null==n?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function lt(t){let n,i,e;function r(t,e,r=0,s=t.length){if(r<s){if(0!==n(e,e))return s;do{const n=r+s>>>1;i(t[n],e)<0?r=n+1:s=n}while(r<s)}return r}return 2!==t.length?(n=ut,i=(n,i)=>ut(t(n),i),e=(n,i)=>t(n)-i):(n=t===ut||t===ct?t:_t,i=t,e=t),{left:r,center:function(t,n,i=0,s=t.length){const o=r(t,n,i,s-1);return o>i&&e(t[o-1],n)>-e(t[o],n)?o-1:o},right:function(t,e,r=0,s=t.length){if(r<s){if(0!==n(e,e))return s;do{const n=r+s>>>1;i(t[n],e)<=0?r=n+1:s=n}while(r<s)}return r}}}function _t(){return 0}at.prototype={constructor:at,select:function(t){"function"!=typeof t&&(t=d(t));for(var n=this._groups,i=n.length,e=new Array(i),r=0;r<i;++r)for(var s,o,a=n[r],h=a.length,u=e[r]=new Array(h),c=0;c<h;++c)(s=a[c])&&(o=t.call(s,s.__data__,c,a))&&("__data__"in s&&(o.__data__=s.__data__),u[c]=o);return new at(e,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=function(t){return null==t?m:function(){return this.querySelectorAll(t)}}(t));for(var n=this._groups,i=n.length,e=[],r=[],s=0;s<i;++s)for(var o,a=n[s],h=a.length,u=0;u<h;++u)(o=a[u])&&(e.push(t.call(o,o.__data__,u,a)),r.push(o));return new at(e,r)},filter:function(t){"function"!=typeof t&&(t=l(t));for(var n=this._groups,i=n.length,e=new Array(i),r=0;r<i;++r)for(var s,o=n[r],a=o.length,h=e[r]=[],u=0;u<a;++u)(s=o[u])&&t.call(s,s.__data__,u,o)&&h.push(s);return new at(e,this._parents)},data:function(t,n){if(!t)return f=new Array(this.size()),u=-1,this.each((function(t){f[++u]=t})),f;var i=n?k:M,e=this._parents,r=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var s=r.length,o=new Array(s),a=new Array(s),h=new Array(s),u=0;u<s;++u){var c=e[u],l=r[u],_=l.length,f=t.call(c,c&&c.__data__,u,e),p=f.length,y=a[u]=new Array(p),x=o[u]=new Array(p);i(c,l,y,x,h[u]=new Array(_),f,n);for(var g,d,m=0,v=0;m<p;++m)if(g=y[m]){for(m>=v&&(v=m+1);!(d=x[v])&&++v<p;);g._next=d||null}}return(o=new at(o,e))._enter=a,o._exit=h,o},enter:function(){return new at(this._enter||this._groups.map(v),this._parents)},exit:function(){return new at(this._exit||this._groups.map(v),this._parents)},merge:function(t){for(var n=this._groups,i=t._groups,e=n.length,r=i.length,s=Math.min(e,r),o=new Array(e),a=0;a<s;++a)for(var h,u=n[a],c=i[a],l=u.length,_=o[a]=new Array(l),f=0;f<l;++f)(h=u[f]||c[f])&&(_[f]=h);for(;a<e;++a)o[a]=n[a];return new at(o,this._parents)},order:function(){for(var t=this._groups,n=-1,i=t.length;++n<i;)for(var e,r=t[n],s=r.length-1,o=r[s];--s>=0;)(e=r[s])&&(o&&o!==e.nextSibling&&o.parentNode.insertBefore(e,o),o=e);return this},sort:function(t){function n(n,i){return n&&i?t(n.__data__,i.__data__):!n-!i}t||(t=N);for(var i=this._groups,e=i.length,r=new Array(e),s=0;s<e;++s){for(var o,a=i[s],h=a.length,u=r[s]=new Array(h),c=0;c<h;++c)(o=a[c])&&(u[c]=o);u.sort(n)}return new at(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var e=t[n],r=0,s=e.length;r<s;++r){var o=e[r];if(o)return o}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,i=0,e=n.length;i<e;++i)for(var r,s=n[i],o=0,a=s.length;o<a;++o)(r=s[o])&&t.call(r,r.__data__,o,s);return this},attr:function(t,n){var e=i(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?S:A:"function"==typeof n?e.local?P:T:e.local?$:E)(e,n))},style:function(t,n,i){return arguments.length>1?this.each((null==n?C:"function"==typeof n?H:z)(t,n,null==i?"":i)):function(t,n){return t.style.getPropertyValue(n)||q(t).getComputedStyle(t,null).getPropertyValue(n)}(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?L:"function"==typeof n?R:j)(t,n)):this.node()[t]},classed:function(t,n){var i=O(t+"");if(arguments.length<2){for(var e=D(this.node()),r=-1,s=i.length;++r<s;)if(!e.contains(i[r]))return!1;return!0}return this.each(("function"==typeof n?X:n?B:U)(i,n))},text:function(t){return arguments.length?this.each(null==t?Z:("function"==typeof t?Q:G)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Y:("function"==typeof t?K:J)(t)):this.node().innerHTML},raise:function(){return this.each(W)},lower:function(){return this.each(tt)},append:function(t){var n="function"==typeof t?t:s(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var i="function"==typeof t?t:s(t),e=null==n?nt:"function"==typeof n?n:d(n);return this.select((function(){return this.insertBefore(i.apply(this,arguments),e.apply(this,arguments)||null)}))},remove:function(){return this.each(it)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,i){var e,r,s=function(t){return t.trim().split(/^|\s+/).map((function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}}))}(t+""),o=s.length;if(!(arguments.length<2)){for(a=n?x:y,null==i&&(i=!1),e=0;e<o;++e)this.each(a(s[e],n,i));return this}var a=this.node().__on;if(a)for(var h,u=0,c=a.length;u<c;++u)for(e=0,h=a[u];e<o;++e)if((r=s[e]).type===h.type&&r.name===h.name)return h.value},dispatch:function(t,n){return this.each(("function"==typeof n?st:rt)(t,n))}};const ft=lt(ut).right;lt((function(t){return null===t?NaN:+t})).center;var pt=ft;const yt=Math.sqrt(50),xt=Math.sqrt(10),gt=Math.sqrt(2);function dt(t,n,i){const e=(n-t)/Math.max(0,i),r=Math.floor(Math.log10(e)),s=e/Math.pow(10,r),o=s>=yt?10:s>=xt?5:s>=gt?2:1;let a,h,u;return r<0?(u=Math.pow(10,-r)/o,a=Math.round(t*u),h=Math.round(n*u),a/u<t&&++a,h/u>n&&--h,u=-u):(u=Math.pow(10,r)*o,a=Math.round(t/u),h=Math.round(n/u),a*u<t&&++a,h*u>n&&--h),h<a&&.5<=i&&i<2?dt(t,n,2*i):[a,h,u]}function mt(t,n,i){return dt(t=+t,n=+n,i=+i)[2]}function vt(t,n,i){i=+i;const e=(n=+n)<(t=+t),r=e?mt(n,t,i):mt(t,n,i);return(e?-1:1)*(r<0?1/-r:r)}function wt(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function bt(t,n,i){t.prototype=n.prototype=i,i.constructor=t}function Mt(t,n){var i=Object.create(t.prototype);for(var e in n)i[e]=n[e];return i}function kt(){}var Nt=.7,At=1/Nt,St="\\s*([+-]?\\d+)\\s*",Et="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Tt=/^#([0-9a-f]{3,8})$/,Pt=new RegExp(`^rgb\\(${St},${St},${St}\\)$`),qt=new RegExp(`^rgb\\(${$t},${$t},${$t}\\)$`),Ct=new RegExp(`^rgba\\(${St},${St},${St},${Et}\\)$`),zt=new RegExp(`^rgba\\(${$t},${$t},${$t},${Et}\\)$`),Ht=new RegExp(`^hsl\\(${Et},${$t},${$t}\\)$`),Lt=new RegExp(`^hsla\\(${Et},${$t},${$t},${Et}\\)$`),jt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Rt(){return this.rgb().formatHex()}function Ot(){return this.rgb().formatRgb()}function Dt(t){var n,i;return t=(t+"").trim().toLowerCase(),(n=Tt.exec(t))?(i=n[1].length,n=parseInt(n[1],16),6===i?It(n):3===i?new Bt(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===i?Vt(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===i?Vt(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=Pt.exec(t))?new Bt(n[1],n[2],n[3],1):(n=qt.exec(t))?new Bt(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Ct.exec(t))?Vt(n[1],n[2],n[3],n[4]):(n=zt.exec(t))?Vt(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Ht.exec(t))?Yt(n[1],n[2]/100,n[3]/100,1):(n=Lt.exec(t))?Yt(n[1],n[2]/100,n[3]/100,n[4]):jt.hasOwnProperty(t)?It(jt[t]):"transparent"===t?new Bt(NaN,NaN,NaN,0):null}function It(t){return new Bt(t>>16&255,t>>8&255,255&t,1)}function Vt(t,n,i,e){return e<=0&&(t=n=i=NaN),new Bt(t,n,i,e)}function Ft(t,n,i,e){return 1===arguments.length?((r=t)instanceof kt||(r=Dt(r)),r?new Bt((r=r.rgb()).r,r.g,r.b,r.opacity):new Bt):new Bt(t,n,i,null==e?1:e);var r}function Bt(t,n,i,e){this.r=+t,this.g=+n,this.b=+i,this.opacity=+e}function Ut(){return`#${Qt(this.r)}${Qt(this.g)}${Qt(this.b)}`}function Xt(){const t=Zt(this.opacity);return`${1===t?"rgb(":"rgba("}${Gt(this.r)}, ${Gt(this.g)}, ${Gt(this.b)}${1===t?")":`, ${t})`}`}function Zt(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Gt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Qt(t){return((t=Gt(t))<16?"0":"")+t.toString(16)}function Yt(t,n,i,e){return e<=0?t=n=i=NaN:i<=0||i>=1?t=n=NaN:n<=0&&(t=NaN),new Kt(t,n,i,e)}function Jt(t){if(t instanceof Kt)return new Kt(t.h,t.s,t.l,t.opacity);if(t instanceof kt||(t=Dt(t)),!t)return new Kt;if(t instanceof Kt)return t;var n=(t=t.rgb()).r/255,i=t.g/255,e=t.b/255,r=Math.min(n,i,e),s=Math.max(n,i,e),o=NaN,a=s-r,h=(s+r)/2;return a?(o=n===s?(i-e)/a+6*(i<e):i===s?(e-n)/a+2:(n-i)/a+4,a/=h<.5?s+r:2-s-r,o*=60):a=h>0&&h<1?0:o,new Kt(o,a,h,t.opacity)}function Kt(t,n,i,e){this.h=+t,this.s=+n,this.l=+i,this.opacity=+e}function Wt(t){return(t=(t||0)%360)<0?t+360:t}function tn(t){return Math.max(0,Math.min(1,t||0))}function nn(t,n,i){return 255*(t<60?n+(i-n)*t/60:t<180?i:t<240?n+(i-n)*(240-t)/60:n)}bt(kt,Dt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Rt,formatHex:Rt,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Jt(this).formatHsl()},formatRgb:Ot,toString:Ot}),bt(Bt,Ft,Mt(kt,{brighter(t){return t=null==t?At:Math.pow(At,t),new Bt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?Nt:Math.pow(Nt,t),new Bt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Bt(Gt(this.r),Gt(this.g),Gt(this.b),Zt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ut,formatHex:Ut,formatHex8:function(){return`#${Qt(this.r)}${Qt(this.g)}${Qt(this.b)}${Qt(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Xt,toString:Xt})),bt(Kt,(function(t,n,i,e){return 1===arguments.length?Jt(t):new Kt(t,n,i,null==e?1:e)}),Mt(kt,{brighter(t){return t=null==t?At:Math.pow(At,t),new Kt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Nt:Math.pow(Nt,t),new Kt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,e=i+(i<.5?i:1-i)*n,r=2*i-e;return new Bt(nn(t>=240?t-240:t+120,r,e),nn(t,r,e),nn(t<120?t+240:t-120,r,e),this.opacity)},clamp(){return new Kt(Wt(this.h),tn(this.s),tn(this.l),Zt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Zt(this.opacity);return`${1===t?"hsl(":"hsla("}${Wt(this.h)}, ${100*tn(this.s)}%, ${100*tn(this.l)}%${1===t?")":`, ${t})`}`}}));var en=t=>()=>t;function rn(t){return 1==(t=+t)?sn:function(n,i){return i-n?function(t,n,i){return t=Math.pow(t,i),n=Math.pow(n,i)-t,i=1/i,function(e){return Math.pow(t+e*n,i)}}(n,i,t):en(isNaN(n)?i:n)}}function sn(t,n){var i=n-t;return i?function(t,n){return function(i){return t+i*n}}(t,i):en(isNaN(t)?n:t)}var on=function t(n){var i=rn(n);function e(t,n){var e=i((t=Ft(t)).r,(n=Ft(n)).r),r=i(t.g,n.g),s=i(t.b,n.b),o=sn(t.opacity,n.opacity);return function(n){return t.r=e(n),t.g=r(n),t.b=s(n),t.opacity=o(n),t+""}}return e.gamma=t,e}(1);function an(t,n){n||(n=[]);var i,e=t?Math.min(n.length,t.length):0,r=n.slice();return function(s){for(i=0;i<e;++i)r[i]=t[i]*(1-s)+n[i]*s;return r}}function hn(t,n){var i,e=n?n.length:0,r=t?Math.min(e,t.length):0,s=new Array(r),o=new Array(e);for(i=0;i<r;++i)s[i]=yn(t[i],n[i]);for(;i<e;++i)o[i]=n[i];return function(t){for(i=0;i<r;++i)o[i]=s[i](t);return o}}function un(t,n){var i=new Date;return t=+t,n=+n,function(e){return i.setTime(t*(1-e)+n*e),i}}function cn(t,n){return t=+t,n=+n,function(i){return t*(1-i)+n*i}}function ln(t,n){var i,e={},r={};for(i in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)i in t?e[i]=yn(t[i],n[i]):r[i]=n[i];return function(t){for(i in e)r[i]=e[i](t);return r}}var _n=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fn=new RegExp(_n.source,"g");function pn(t,n){var i,e,r,s=_n.lastIndex=fn.lastIndex=0,o=-1,a=[],h=[];for(t+="",n+="";(i=_n.exec(t))&&(e=fn.exec(n));)(r=e.index)>s&&(r=n.slice(s,r),a[o]?a[o]+=r:a[++o]=r),(i=i[0])===(e=e[0])?a[o]?a[o]+=e:a[++o]=e:(a[++o]=null,h.push({i:o,x:cn(i,e)})),s=fn.lastIndex;return s<n.length&&(r=n.slice(s),a[o]?a[o]+=r:a[++o]=r),a.length<2?h[0]?function(t){return function(n){return t(n)+""}}(h[0].x):function(t){return function(){return t}}(n):(n=h.length,function(t){for(var i,e=0;e<n;++e)a[(i=h[e]).i]=i.x(t);return a.join("")})}function yn(t,n){var i,e=typeof n;return null==n||"boolean"===e?en(n):("number"===e?cn:"string"===e?(i=Dt(n))?(n=i,on):pn:n instanceof Dt?on:n instanceof Date?un:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(n)?an:Array.isArray(n)?hn:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?ln:cn)(t,n)}function xn(t,n){return t=+t,n=+n,function(i){return Math.round(t*(1-i)+n*i)}}function gn(t){return+t}var dn=[0,1];function mn(t){return t}function vn(t,n){return(n-=t=+t)?function(i){return(i-t)/n}:function(t){return function(){return t}}(isNaN(n)?NaN:.5)}function wn(t,n,i){var e=t[0],r=t[1],s=n[0],o=n[1];return r<e?(e=vn(r,e),s=i(o,s)):(e=vn(e,r),s=i(s,o)),function(t){return s(e(t))}}function bn(t,n,i){var e=Math.min(t.length,n.length)-1,r=new Array(e),s=new Array(e),o=-1;for(t[e]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++o<e;)r[o]=vn(t[o],t[o+1]),s[o]=i(n[o],n[o+1]);return function(n){var i=pt(t,n,1,e)-1;return s[i](r[i](n))}}function Mn(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function kn(){var t,n,i,e,r,s,o=dn,a=dn,h=yn,u=mn;function c(){var t,n,i,h=Math.min(o.length,a.length);return u!==mn&&(t=o[0],n=o[h-1],t>n&&(i=t,t=n,n=i),u=function(i){return Math.max(t,Math.min(n,i))}),e=h>2?bn:wn,r=s=null,l}function l(n){return null==n||isNaN(n=+n)?i:(r||(r=e(o.map(t),a,h)))(t(u(n)))}return l.invert=function(i){return u(n((s||(s=e(a,o.map(t),cn)))(i)))},l.domain=function(t){return arguments.length?(o=Array.from(t,gn),c()):o.slice()},l.range=function(t){return arguments.length?(a=Array.from(t),c()):a.slice()},l.rangeRound=function(t){return a=Array.from(t),h=xn,c()},l.clamp=function(t){return arguments.length?(u=!!t||mn,c()):u!==mn},l.interpolate=function(t){return arguments.length?(h=t,c()):h},l.unknown=function(t){return arguments.length?(i=t,l):i},function(i,e){return t=i,n=e,c()}}function Nn(){return kn()(mn,mn)}function An(t,n){if((i=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var i,e=t.slice(0,i);return[e.length>1?e[0]+e.slice(2):e,+t.slice(i+1)]}function Sn(t){return(t=An(Math.abs(t)))?t[1]:NaN}var En,$n=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Tn(t){return new Pn(t)}function Pn(t){if(!(n=$n.exec(t)))throw new Error("invalid format: "+t);var n;this.fill=n[1]||" ",this.align=n[2]||">",this.sign=n[3]||"-",this.symbol=n[4]||"",this.zero=!!n[5],this.width=n[6]&&+n[6],this.comma=!!n[7],this.precision=n[8]&&+n[8].slice(1),this.trim=!!n[9],this.type=n[10]||""}function qn(t,n){var i=An(t,n);if(!i)return t+"";var e=i[0],r=i[1];return r<0?"0."+new Array(-r).join("0")+e:e.length>r+1?e.slice(0,r+1)+"."+e.slice(r+1):e+new Array(r-e.length+2).join("0")}Tn.prototype=Pn.prototype,Pn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Cn={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return qn(100*t,n)},r:qn,s:function(t,n){var i=An(t,n);if(!i)return t+"";var e=i[0],r=i[1],s=r-(En=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,o=e.length;return s===o?e:s>o?e+new Array(s-o+1).join("0"):s>0?e.slice(0,s)+"."+e.slice(s):"0."+new Array(1-s).join("0")+An(t,Math.max(0,n+s-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function zn(t){return t}var Hn,Ln,jn,Rn=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function On(t){var n,i,e=t.grouping&&t.thousands?(n=t.grouping,i=t.thousands,function(t,e){for(var r=t.length,s=[],o=0,a=n[0],h=0;r>0&&a>0&&(h+a+1>e&&(a=Math.max(1,e-h)),s.push(t.substring(r-=a,r+a)),!((h+=a+1)>e));)a=n[o=(o+1)%n.length];return s.reverse().join(i)}):zn,r=t.currency,s=t.decimal,o=t.numerals?function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(t.numerals):zn,a=t.percent||"%";function h(t){var n=(t=Tn(t)).fill,i=t.align,h=t.sign,u=t.symbol,c=t.zero,l=t.width,_=t.comma,f=t.precision,p=t.trim,y=t.type;"n"===y?(_=!0,y="g"):Cn[y]||(null==f&&(f=12),p=!0,y="g"),(c||"0"===n&&"="===i)&&(c=!0,n="0",i="=");var x="$"===u?r[0]:"#"===u&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",g="$"===u?r[1]:/[%p]/.test(y)?a:"",d=Cn[y],m=/[defgprs%]/.test(y);function v(t){var r,a,u,v=x,w=g;if("c"===y)w=d(t)+w,t="";else{var b=(t=+t)<0;if(t=d(Math.abs(t),f),p&&(t=function(t){t:for(var n,i=t.length,e=1,r=-1;e<i;++e)switch(t[e]){case".":r=n=e;break;case"0":0===r&&(r=e),n=e;break;default:if(r>0){if(!+t[e])break t;r=0}}return r>0?t.slice(0,r)+t.slice(n+1):t}(t)),b&&0==+t&&(b=!1),v=(b?"("===h?h:"-":"-"===h||"("===h?"":h)+v,w=("s"===y?Rn[8+En/3]:"")+w+(b&&"("===h?")":""),m)for(r=-1,a=t.length;++r<a;)if(48>(u=t.charCodeAt(r))||u>57){w=(46===u?s+t.slice(r+1):t.slice(r))+w,t=t.slice(0,r);break}}_&&!c&&(t=e(t,1/0));var M=v.length+t.length+w.length,k=M<l?new Array(l-M+1).join(n):"";switch(_&&c&&(t=e(k+t,k.length?l-w.length:1/0),k=""),i){case"<":t=v+t+w+k;break;case"=":t=v+k+t+w;break;case"^":t=k.slice(0,M=k.length>>1)+v+t+w+k.slice(M);break;default:t=k+v+t+w}return o(t)}return f=null==f?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,f)):Math.max(0,Math.min(20,f)),v.toString=function(){return t+""},v}return{format:h,formatPrefix:function(t,n){var i=h(((t=Tn(t)).type="f",t)),e=3*Math.max(-8,Math.min(8,Math.floor(Sn(n)/3))),r=Math.pow(10,-e),s=Rn[8+e/3];return function(t){return i(r*t)+s}}}}function Dn(t,n,i,e){var r,s=vt(t,n,i);switch((e=Tn(null==e?",f":e)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(n));return null!=e.precision||isNaN(r=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Sn(n)/3)))-Sn(Math.abs(t)))}(s,o))||(e.precision=r),jn(e,o);case"":case"e":case"g":case"p":case"r":null!=e.precision||isNaN(r=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Sn(n)-Sn(t))+1}(s,Math.max(Math.abs(t),Math.abs(n))))||(e.precision=r-("e"===e.type));break;case"f":case"%":null!=e.precision||isNaN(r=function(t){return Math.max(0,-Sn(Math.abs(t)))}(s))||(e.precision=r-2*("%"===e.type))}return Ln(e)}function In(t){var n=t.domain;return t.ticks=function(t){var i=n();return function(t,n,i){if(!((i=+i)>0))return[];if((t=+t)==(n=+n))return[t];const e=n<t,[r,s,o]=e?dt(n,t,i):dt(t,n,i);if(!(s>=r))return[];const a=s-r+1,h=new Array(a);if(e)if(o<0)for(let t=0;t<a;++t)h[t]=(s-t)/-o;else for(let t=0;t<a;++t)h[t]=(s-t)*o;else if(o<0)for(let t=0;t<a;++t)h[t]=(r+t)/-o;else for(let t=0;t<a;++t)h[t]=(r+t)*o;return h}(i[0],i[i.length-1],null==t?10:t)},t.tickFormat=function(t,i){var e=n();return Dn(e[0],e[e.length-1],null==t?10:t,i)},t.nice=function(i){null==i&&(i=10);var e,r,s=n(),o=0,a=s.length-1,h=s[o],u=s[a],c=10;for(u<h&&(r=h,h=u,u=r,r=o,o=a,a=r);c-- >0;){if((r=mt(h,u,i))===e)return s[o]=h,s[a]=u,n(s);if(r>0)h=Math.floor(h/r)*r,u=Math.ceil(u/r)*r;else{if(!(r<0))break;h=Math.ceil(h*r)/r,u=Math.floor(u*r)/r}e=r}return t},t}function Vn(){var t=Nn();return t.copy=function(){return Mn(t,Vn())},wt.apply(t,arguments),In(t)}Hn=On({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),Ln=Hn.format,jn=Hn.formatPrefix;var Fn=Math.PI,Bn=2*Fn,Un=1e-6,Xn=Bn-Un;function Zn(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Gn(){return new Zn}function Qn(t){return function(){return t}}Zn.prototype=Gn.prototype={constructor:Zn,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,i,e){this._+="Q"+ +t+","+ +n+","+(this._x1=+i)+","+(this._y1=+e)},bezierCurveTo:function(t,n,i,e,r,s){this._+="C"+ +t+","+ +n+","+ +i+","+ +e+","+(this._x1=+r)+","+(this._y1=+s)},arcTo:function(t,n,i,e,r){t=+t,n=+n,i=+i,e=+e,r=+r;var s=this._x1,o=this._y1,a=i-t,h=e-n,u=s-t,c=o-n,l=u*u+c*c;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(l>Un)if(Math.abs(c*a-h*u)>Un&&r){var _=i-s,f=e-o,p=a*a+h*h,y=_*_+f*f,x=Math.sqrt(p),g=Math.sqrt(l),d=r*Math.tan((Fn-Math.acos((p+l-y)/(2*x*g)))/2),m=d/g,v=d/x;Math.abs(m-1)>Un&&(this._+="L"+(t+m*u)+","+(n+m*c)),this._+="A"+r+","+r+",0,0,"+ +(c*_>u*f)+","+(this._x1=t+v*a)+","+(this._y1=n+v*h)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,i,e,r,s){t=+t,n=+n;var o=(i=+i)*Math.cos(e),a=i*Math.sin(e),h=t+o,u=n+a,c=1^s,l=s?e-r:r-e;if(i<0)throw new Error("negative radius: "+i);null===this._x1?this._+="M"+h+","+u:(Math.abs(this._x1-h)>Un||Math.abs(this._y1-u)>Un)&&(this._+="L"+h+","+u),i&&(l<0&&(l=l%Bn+Bn),l>Xn?this._+="A"+i+","+i+",0,1,"+c+","+(t-o)+","+(n-a)+"A"+i+","+i+",0,1,"+c+","+(this._x1=h)+","+(this._y1=u):l>Un&&(this._+="A"+i+","+i+",0,"+ +(l>=Fn)+","+c+","+(this._x1=t+i*Math.cos(r))+","+(this._y1=n+i*Math.sin(r))))},rect:function(t,n,i,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +i+"v"+ +e+"h"+-i+"Z"},toString:function(){return this._}};function Yn(t){this._context=t}function Jn(t){return new Yn(t)}function Kn(t){return t[0]}function Wn(t){return t[1]}function ti(){var t=Kn,n=Wn,i=Qn(!0),e=null,r=Jn,s=null;function o(o){var a,h,u,c=o.length,l=!1;for(null==e&&(s=r(u=Gn())),a=0;a<=c;++a)!(a<c&&i(h=o[a],a,o))===l&&((l=!l)?s.lineStart():s.lineEnd()),l&&s.point(+t(h,a,o),+n(h,a,o));if(u)return s=null,u+""||null}return o.x=function(n){return arguments.length?(t="function"==typeof n?n:Qn(+n),o):t},o.y=function(t){return arguments.length?(n="function"==typeof t?t:Qn(+t),o):n},o.defined=function(t){return arguments.length?(i="function"==typeof t?t:Qn(!!t),o):i},o.curve=function(t){return arguments.length?(r=t,null!=e&&(s=r(e)),o):r},o.context=function(t){return arguments.length?(null==t?e=s=null:s=r(e=t),o):e},o}function ni(){}function ii(t,n,i){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+i)/6)}function ei(t){this._context=t}function ri(t,n){this._basis=new ei(t),this._beta=n}function si(t,n,i){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-i),t._x2,t._y2)}function oi(t,n){this._context=t,this._k=(1-n)/6}function ai(t,n){this._context=t,this._k=(1-n)/6}function hi(t,n){this._context=t,this._k=(1-n)/6}function ui(t,n,i){var e=t._x1,r=t._y1,s=t._x2,o=t._y2;if(t._l01_a>1e-12){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,h=3*t._l01_a*(t._l01_a+t._l12_a);e=(e*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/h,r=(r*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/h}if(t._l23_a>1e-12){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);s=(s*u+t._x1*t._l23_2a-n*t._l12_2a)/c,o=(o*u+t._y1*t._l23_2a-i*t._l12_2a)/c}t._context.bezierCurveTo(e,r,s,o,t._x2,t._y2)}function ci(t,n){this._context=t,this._alpha=n}function li(t,n){this._context=t,this._alpha=n}function _i(t,n){this._context=t,this._alpha=n}function fi(t){return t<0?-1:1}function pi(t,n,i){var e=t._x1-t._x0,r=n-t._x1,s=(t._y1-t._y0)/(e||r<0&&-0),o=(i-t._y1)/(r||e<0&&-0),a=(s*r+o*e)/(e+r);return(fi(s)+fi(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function yi(t,n){var i=t._x1-t._x0;return i?(3*(t._y1-t._y0)/i-n)/2:n}function xi(t,n,i){var e=t._x0,r=t._y0,s=t._x1,o=t._y1,a=(s-e)/3;t._context.bezierCurveTo(e+a,r+a*n,s-a,o-a*i,s,o)}function gi(t){this._context=t}Yn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}},ei.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ii(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ii(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},ri.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,i=t.length-1;if(i>0)for(var e,r=t[0],s=n[0],o=t[i]-r,a=n[i]-s,h=-1;++h<=i;)e=h/i,this._basis.point(this._beta*t[h]+(1-this._beta)*(r+e*o),this._beta*n[h]+(1-this._beta)*(s+e*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}},function t(n){function i(t){return 1===n?new ei(t):new ri(t,n)}return i.beta=function(n){return t(+n)},i}(.85),oi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:si(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:si(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}},function t(n){function i(t){return new oi(t,n)}return i.tension=function(n){return t(+n)},i}(0),ai.prototype={areaStart:ni,areaEnd:ni,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:si(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}},function t(n){function i(t){return new ai(t,n)}return i.tension=function(n){return t(+n)},i}(0),hi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:si(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}},function t(n){function i(t){return new hi(t,n)}return i.tension=function(n){return t(+n)},i}(0),ci.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var i=this._x2-t,e=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+e*e,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:ui(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}},function t(n){function i(t){return n?new ci(t,n):new oi(t,0)}return i.alpha=function(n){return t(+n)},i}(.5),li.prototype={areaStart:ni,areaEnd:ni,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var i=this._x2-t,e=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+e*e,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:ui(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}},function t(n){function i(t){return n?new li(t,n):new ai(t,0)}return i.alpha=function(n){return t(+n)},i}(.5),_i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var i=this._x2-t,e=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+e*e,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ui(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}},function t(n){function i(t){return n?new _i(t,n):new hi(t,0)}return i.alpha=function(n){return t(+n)},i}(.5),gi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:xi(this,this._t0,yi(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var i=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,xi(this,yi(this,i=pi(this,t,n)),i);break;default:xi(this,this._t0,i=pi(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=i}}},Object.create(gi.prototype).point=function(t,n){gi.prototype.point.call(this,n,t)};var di=Array.prototype.slice;function mi(t){return t}var vi=1,wi=2,bi=3,Mi=4,ki=1e-6;function Ni(t){return"translate("+(t+.5)+",0)"}function Ai(t){return"translate(0,"+(t+.5)+")"}function Si(t){return function(n){return+t(n)}}function Ei(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(i){return+t(i)+n}}function $i(){return!this.__axis}function Ti(t,n){var i=[],e=null,r=null,s=6,o=6,a=3,h=t===vi||t===Mi?-1:1,u=t===Mi||t===wi?"x":"y",c=t===vi||t===bi?Ni:Ai;function l(l){var _=null==e?n.ticks?n.ticks.apply(n,i):n.domain():e,f=null==r?n.tickFormat?n.tickFormat.apply(n,i):mi:r,p=Math.max(s,0)+a,y=n.range(),x=+y[0]+.5,g=+y[y.length-1]+.5,d=(n.bandwidth?Ei:Si)(n.copy()),m=l.selection?l.selection():l,v=m.selectAll(".domain").data([null]),w=m.selectAll(".tick").data(_,n).order(),b=w.exit(),M=w.enter().append("g").attr("class","tick"),k=w.select("line"),N=w.select("text");v=v.merge(v.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),w=w.merge(M),k=k.merge(M.append("line").attr("stroke","#000").attr(u+"2",h*s)),N=N.merge(M.append("text").attr("fill","#000").attr(u,h*p).attr("dy",t===vi?"0em":t===bi?"0.71em":"0.32em")),l!==m&&(v=v.transition(l),w=w.transition(l),k=k.transition(l),N=N.transition(l),b=b.transition(l).attr("opacity",ki).attr("transform",(function(t){return isFinite(t=d(t))?c(t):this.getAttribute("transform")})),M.attr("opacity",ki).attr("transform",(function(t){var n=this.parentNode.__axis;return c(n&&isFinite(n=n(t))?n:d(t))}))),b.remove(),v.attr("d",t===Mi||t==wi?"M"+h*o+","+x+"H0.5V"+g+"H"+h*o:"M"+x+","+h*o+"V0.5H"+g+"V"+h*o),w.attr("opacity",1).attr("transform",(function(t){return c(d(t))})),k.attr(u+"2",h*s),N.attr(u,h*p).text(f),m.filter($i).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===wi?"start":t===Mi?"end":"middle"),m.each((function(){this.__axis=d}))}return l.scale=function(t){return arguments.length?(n=t,l):n},l.ticks=function(){return i=di.call(arguments),l},l.tickArguments=function(t){return arguments.length?(i=null==t?[]:di.call(t),l):i.slice()},l.tickValues=function(t){return arguments.length?(e=null==t?null:di.call(t),l):e&&e.slice()},l.tickFormat=function(t){return arguments.length?(r=t,l):r},l.tickSize=function(t){return arguments.length?(s=o=+t,l):s},l.tickSizeInner=function(t){return arguments.length?(s=+t,l):s},l.tickSizeOuter=function(t){return arguments.length?(o=+t,l):o},l.tickPadding=function(t){return arguments.length?(a=+t,l):a},l}function Pi(t){return Ti(bi,t)}function qi(t){return Ti(Mi,t)}export{qi as a,Jn as b,Qn as c,ti as d,lt as e,Nn as f,Mn as g,Pi as h,wt as i,Vn as l,Gn as p,ht as s,vt as t,Kn as x,Wn as y};
