import{r as t,m as e,g as o,x as n,$ as r,n as a}from"./main.js";function i(t,e){const o=t.pieces.get(e);return o&&"pawn"===o.role&&("1"===e[1]&&"white"===t.turnColor||"8"===e[1]&&"black"===t.turnColor)}function s(t){if("offline_otb"===t.data.game.id){const e=t.chessground.state;if("white"===e.orientation&&"black"===t.player()||"black"===e.orientation&&"white"===t.player())return"rotate(180deg)"}return""}function c(t,i=a){if(!t.promoting)return null;const c=["queen","knight","rook","bishop"];return"antichess"===t.data.game.variant.key&&c.push("king"),e("div.overlay.open",{oncreate:r((()=>i(t)))},[e("div#promotion_choice",{className:o.general.theme.piece(),style:{top:(n().vh-100)/2+"px"}},c.map((o=>e("piece."+o+"."+t.player(),{style:{transform:s(t)},oncreate:r((()=>function(t,e){const o=t.promoting;o&&(t.chessground.promote(o.dest,e),o.callback(o.orig,o.dest,e)),t.promoting=null}(t,o)))}))))])}var l={canPromote:i,start:function(e,o,n,r){return!!i(e.chessground.state,n)&&(e.promoting={orig:o,dest:n,callback:r},t(),!0)},cancel:function(e,o){e.promoting&&(e.promoting=null,o&&e.chessground.set(o),t())},view:c};export{i as c,l as p,c as v};
