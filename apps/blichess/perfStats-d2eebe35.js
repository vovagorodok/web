import{K as t,o as e,p as n,au as r,aJ as a,q as s,m as o,cf as u,af as i,s as l,u as c,r as f,ac as g,aN as h,am as d,B as v}from"./main.js";import{u as m,v as p}from"./userXhr-d3b3ac60.js";import{s as T}from"./perfs-d8ca398c.js";import{l as M}from"./layout-ae040024.js";import{e as C,t as U,i as D,f as y,g as w,s as P,b as F,l as S,d as Y,h as x}from"./axis-de48d5f2.js";const H=new Date,b=new Date;function k(t,e,n,r){function a(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return a.floor=e=>(t(e=new Date(+e)),e),a.ceil=n=>(t(n=new Date(n-1)),e(n,1),t(n),n),a.round=t=>{const e=a(t),n=a.ceil(t);return t-e<n-t?e:n},a.offset=(t,n)=>(e(t=new Date(+t),null==n?1:Math.floor(n)),t),a.range=(n,r,s)=>{const o=[];if(n=a.ceil(n),s=null==s?1:Math.floor(s),!(n<r&&s>0))return o;let u;do{o.push(u=new Date(+n)),e(n,s),t(n)}while(u<n&&n<r);return o},a.filter=n=>k((e=>{if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),((t,r)=>{if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})),n&&(a.count=(e,r)=>(H.setTime(+e),b.setTime(+r),t(H),t(b),Math.floor(n(H,b))),a.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?a.filter(r?e=>r(e)%t==0:e=>a.count(0,e)%t==0):a:null)),a}const A=k((()=>{}),((t,e)=>{t.setTime(+t+e)}),((t,e)=>e-t));A.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?k((e=>{e.setTime(Math.floor(e/t)*t)}),((e,n)=>{e.setTime(+e+n*t)}),((e,n)=>(n-e)/t)):A:null),A.range;const L=1e3,O=6e4,I=36e5,j=864e5,W=6048e5,Z=2592e6,z=31536e6,R=k((t=>{t.setTime(t-t.getMilliseconds())}),((t,e)=>{t.setTime(+t+e*L)}),((t,e)=>(e-t)/L),(t=>t.getUTCSeconds()));R.range;const X=k((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*L)}),((t,e)=>{t.setTime(+t+e*O)}),((t,e)=>(e-t)/O),(t=>t.getMinutes()));X.range;const J=k((t=>{t.setUTCSeconds(0,0)}),((t,e)=>{t.setTime(+t+e*O)}),((t,e)=>(e-t)/O),(t=>t.getUTCMinutes()));J.range;const B=k((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*L-t.getMinutes()*O)}),((t,e)=>{t.setTime(+t+e*I)}),((t,e)=>(e-t)/I),(t=>t.getHours()));B.range;const _=k((t=>{t.setUTCMinutes(0,0,0)}),((t,e)=>{t.setTime(+t+e*I)}),((t,e)=>(e-t)/I),(t=>t.getUTCHours()));_.range;const G=k((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*O)/j),(t=>t.getDate()-1));G.range;const N=k((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/j),(t=>t.getUTCDate()-1));N.range;const E=k((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/j),(t=>Math.floor(t/j)));function $(t){return k((e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),((t,e)=>{t.setDate(t.getDate()+7*e)}),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*O)/W))}E.range;const q=$(0),K=$(1),Q=$(2),V=$(3),tt=$(4),et=$(5),nt=$(6);function rt(t){return k((e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)}),((t,e)=>(e-t)/W))}q.range,K.range,Q.range,V.range,tt.range,et.range,nt.range;const at=rt(0),st=rt(1),ot=rt(2),ut=rt(3),it=rt(4),lt=rt(5),ct=rt(6);at.range,st.range,ot.range,ut.range,it.range,lt.range,ct.range;const ft=k((t=>{t.setDate(1),t.setHours(0,0,0,0)}),((t,e)=>{t.setMonth(t.getMonth()+e)}),((t,e)=>e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())),(t=>t.getMonth()));ft.range;const gt=k((t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)}),((t,e)=>e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())),(t=>t.getUTCMonth()));gt.range;const ht=k((t=>{t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,e)=>{t.setFullYear(t.getFullYear()+e)}),((t,e)=>e.getFullYear()-t.getFullYear()),(t=>t.getFullYear()));ht.every=t=>isFinite(t=Math.floor(t))&&t>0?k((e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,n)=>{e.setFullYear(e.getFullYear()+n*t)})):null,ht.range;const dt=k((t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)}),((t,e)=>e.getUTCFullYear()-t.getUTCFullYear()),(t=>t.getUTCFullYear()));function vt(t,e,n,r,a,s){const o=[[R,1,L],[R,5,5e3],[R,15,15e3],[R,30,3e4],[s,1,O],[s,5,3e5],[s,15,9e5],[s,30,18e5],[a,1,I],[a,3,108e5],[a,6,216e5],[a,12,432e5],[r,1,j],[r,2,1728e5],[n,1,W],[e,1,Z],[e,3,7776e6],[t,1,z]];function u(e,n,r){const a=Math.abs(n-e)/r,s=C((([,,t])=>t)).right(o,a);if(s===o.length)return t.every(U(e/z,n/z,r));if(0===s)return A.every(Math.max(U(e,n,r),1));const[u,i]=o[a/o[s-1][2]<o[s][2]/a?s-1:s];return u.every(i)}return[function(t,e,n){const r=e<t;r&&([t,e]=[e,t]);const a=n&&"function"==typeof n.range?n:u(t,e,n),s=a?a.range(t,+e+1):[];return r?s.reverse():s},u]}dt.every=t=>isFinite(t=Math.floor(t))&&t>0?k((e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null,dt.range,vt(dt,gt,at,E,_,J);const[mt,pt]=vt(ht,ft,q,G,B,X);var Tt=new Date,Mt=new Date;function Ct(t,e,n,r){function a(e){return t(e=new Date(+e)),e}return a.floor=a,a.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},a.round=function(t){var e=a(t),n=a.ceil(t);return t-e<n-t?e:n},a.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},a.range=function(n,r,s){var o=[];if(n=a.ceil(n),s=null==s?1:Math.floor(s),!(n<r&&s>0))return o;do{o.push(new Date(+n))}while(e(n,s),t(n),n<r);return o},a.filter=function(n){return Ct((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(a.count=function(e,r){return Tt.setTime(+e),Mt.setTime(+r),t(Tt),t(Mt),Math.floor(n(Tt,Mt))},a.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?a.filter(r?function(e){return r(e)%t==0}:function(e){return a.count(0,e)%t==0}):a:null}),a}var Ut=Ct((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));Ut.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Ct((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):Ut:null},Ut.range;var Dt=1e3,yt=6e4,wt=36e5,Pt=864e5,Ft=6048e5,St=Ct((function(t){t.setTime(Math.floor(t/Dt)*Dt)}),(function(t,e){t.setTime(+t+e*Dt)}),(function(t,e){return(e-t)/Dt}),(function(t){return t.getUTCSeconds()}));St.range;var Yt=Ct((function(t){t.setTime(Math.floor(t/yt)*yt)}),(function(t,e){t.setTime(+t+e*yt)}),(function(t,e){return(e-t)/yt}),(function(t){return t.getMinutes()}));Yt.range;var xt=Ct((function(t){var e=t.getTimezoneOffset()*yt%wt;e<0&&(e+=wt),t.setTime(Math.floor((+t-e)/wt)*wt+e)}),(function(t,e){t.setTime(+t+e*wt)}),(function(t,e){return(e-t)/wt}),(function(t){return t.getHours()}));xt.range;var Ht=Ct((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*yt)/Pt}),(function(t){return t.getDate()-1}));function bt(t){return Ct((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*yt)/Ft}))}Ht.range;var kt=bt(0),At=bt(1),Lt=bt(2),Ot=bt(3),It=bt(4),jt=bt(5),Wt=bt(6);kt.range,At.range,Lt.range,Ot.range,It.range,jt.range,Wt.range;var Zt=Ct((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}));Zt.range;var zt=Ct((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));zt.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ct((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null},zt.range;var Rt=Ct((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*yt)}),(function(t,e){return(e-t)/yt}),(function(t){return t.getUTCMinutes()}));Rt.range;var Xt=Ct((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*wt)}),(function(t,e){return(e-t)/wt}),(function(t){return t.getUTCHours()}));Xt.range;var Jt=Ct((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/Pt}),(function(t){return t.getUTCDate()-1}));function Bt(t){return Ct((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/Ft}))}Jt.range;var _t=Bt(0),Gt=Bt(1),Nt=Bt(2),Et=Bt(3),$t=Bt(4),qt=Bt(5),Kt=Bt(6);_t.range,Gt.range,Nt.range,Et.range,$t.range,qt.range,Kt.range;var Qt=Ct((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()}));Qt.range;var Vt=Ct((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));function te(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ee(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ne(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}Vt.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ct((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null},Vt.range;var re,ae,se,oe,ue={"-":"",_:" ",0:"0"},ie=/^\s*\d+/,le=/^%/,ce=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;function fe(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",s=a.length;return r+(s<n?new Array(n-s+1).join(e)+a:a)}function ge(t){return t.replace(ce,"\\$&")}function he(t){return new RegExp("^(?:"+t.map(ge).join("|")+")","i")}function de(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function ve(t,e,n){var r=ie.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function me(t,e,n){var r=ie.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function pe(t,e,n){var r=ie.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function Te(t,e,n){var r=ie.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Me(t,e,n){var r=ie.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ce(t,e,n){var r=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ue(t,e,n){var r=ie.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function De(t,e,n){var r=ie.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ye(t,e,n){var r=ie.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function we(t,e,n){var r=ie.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Pe(t,e,n){var r=ie.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Fe(t,e,n){var r=ie.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Se(t,e,n){var r=ie.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Ye(t,e,n){var r=le.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function xe(t,e){return fe(t.getDate(),e,2)}function He(t,e){return fe(t.getHours(),e,2)}function be(t,e){return fe(t.getHours()%12||12,e,2)}function ke(t,e){return fe(1+Ht.count(zt(t),t),e,3)}function Ae(t,e){return fe(t.getMilliseconds(),e,3)}function Le(t,e){return fe(t.getMonth()+1,e,2)}function Oe(t,e){return fe(t.getMinutes(),e,2)}function Ie(t,e){return fe(t.getSeconds(),e,2)}function je(t,e){return fe(kt.count(zt(t),t),e,2)}function We(t){return t.getDay()}function Ze(t,e){return fe(At.count(zt(t),t),e,2)}function ze(t,e){return fe(t.getFullYear()%100,e,2)}function Re(t,e){return fe(t.getFullYear()%1e4,e,4)}function Xe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+fe(e/60|0,"0",2)+fe(e%60,"0",2)}function Je(t,e){return fe(t.getUTCDate(),e,2)}function Be(t,e){return fe(t.getUTCHours(),e,2)}function _e(t,e){return fe(t.getUTCHours()%12||12,e,2)}function Ge(t,e){return fe(1+Jt.count(Vt(t),t),e,3)}function Ne(t,e){return fe(t.getUTCMilliseconds(),e,3)}function Ee(t,e){return fe(t.getUTCMonth()+1,e,2)}function $e(t,e){return fe(t.getUTCMinutes(),e,2)}function qe(t,e){return fe(t.getUTCSeconds(),e,2)}function Ke(t,e){return fe(_t.count(Vt(t),t),e,2)}function Qe(t){return t.getUTCDay()}function Ve(t,e){return fe(Gt.count(Vt(t),t),e,2)}function tn(t,e){return fe(t.getUTCFullYear()%100,e,2)}function en(t,e){return fe(t.getUTCFullYear()%1e4,e,4)}function nn(){return"+0000"}function rn(){return"%"}re=function(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,s=t.days,o=t.shortDays,u=t.months,i=t.shortMonths,l=he(a),c=de(a),f=he(s),g=de(s),h=he(o),d=de(o),v=he(u),m=de(u),p=he(i),T=de(i),M={a:function(t){return o[t.getDay()]},A:function(t){return s[t.getDay()]},b:function(t){return i[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:xe,e:xe,H:He,I:be,j:ke,L:Ae,m:Le,M:Oe,p:function(t){return a[+(t.getHours()>=12)]},S:Ie,U:je,w:We,W:Ze,x:null,X:null,y:ze,Y:Re,Z:Xe,"%":rn},C={a:function(t){return o[t.getUTCDay()]},A:function(t){return s[t.getUTCDay()]},b:function(t){return i[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:Je,e:Je,H:Be,I:_e,j:Ge,L:Ne,m:Ee,M:$e,p:function(t){return a[+(t.getUTCHours()>=12)]},S:qe,U:Ke,w:Qe,W:Ve,x:null,X:null,y:tn,Y:en,Z:nn,"%":rn},U={a:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=d[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=g[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.m=T[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return w(t,e,n,r)},d:De,e:De,H:we,I:we,j:ye,L:Se,m:Ue,M:Pe,p:function(t,e,n){var r=l.exec(e.slice(n));return r?(t.p=c[r[0].toLowerCase()],n+r[0].length):-1},S:Fe,U:me,w:ve,W:pe,x:function(t,e,r){return w(t,n,e,r)},X:function(t,e,n){return w(t,r,e,n)},y:Me,Y:Te,Z:Ce,"%":Ye};function D(t,e){return function(n){var r,a,s,o=[],u=-1,i=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++u<l;)37===t.charCodeAt(u)&&(o.push(t.slice(i,u)),null!=(a=ue[r=t.charAt(++u)])?r=t.charAt(++u):a="e"===r?" ":"0",(s=e[r])&&(r=s(n,a)),o.push(r),i=u+1);return o.push(t.slice(i,u)),o.join("")}}function y(t,e){return function(n){var r=ne(1900);if(w(r,t,n+="",0)!=n.length)return null;if("p"in r&&(r.H=r.H%12+12*r.p),"W"in r||"U"in r){"w"in r||(r.w="W"in r?1:0);var a="Z"in r?ee(ne(r.y)).getUTCDay():e(ne(r.y)).getDay();r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(a+5)%7:r.w+7*r.U-(a+6)%7}return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,ee(r)):e(r)}}function w(t,e,n,r){for(var a,s,o=0,u=e.length,i=n.length;o<u;){if(r>=i)return-1;if(37===(a=e.charCodeAt(o++))){if(a=e.charAt(o++),!(s=U[a in ue?e.charAt(o++):a])||(r=s(t,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}return M.x=D(n,M),M.X=D(r,M),M.c=D(e,M),C.x=D(n,C),C.X=D(r,C),C.c=D(e,C),{format:function(t){var e=D(t+="",M);return e.toString=function(){return t},e},parse:function(t){var e=y(t+="",te);return e.toString=function(){return t},e},utcFormat:function(t){var e=D(t+="",C);return e.toString=function(){return t},e},utcParse:function(t){var e=y(t,ee);return e.toString=function(){return t},e}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),ae=re.format,re.parse,se=re.utcFormat,oe=re.utcParse;var an="%Y-%m-%dT%H:%M:%S.%LZ";function sn(t){return new Date(t)}function on(t){return t instanceof Date?+t:+new Date(+t)}function un(t,e,n,r,a,s,o,u,i,l){var c=y(),f=c.invert,g=c.domain,h=l(".%L"),d=l(":%S"),v=l("%I:%M"),m=l("%I %p"),p=l("%a %d"),T=l("%b %d"),M=l("%B"),C=l("%Y");function U(t){return(i(t)<t?h:u(t)<t?d:o(t)<t?v:s(t)<t?m:r(t)<t?a(t)<t?p:T:n(t)<t?M:C)(t)}return c.invert=function(t){return new Date(f(t))},c.domain=function(t){return arguments.length?g(Array.from(t,on)):g().map(sn)},c.ticks=function(e){var n=g();return t(n[0],n[n.length-1],null==e?10:e)},c.tickFormat=function(t,e){return null==e?U:l(e)},c.nice=function(t){var n=g();return t&&"function"==typeof t.range||(t=e(n[0],n[n.length-1],null==t?10:t)),t?g(function(t,e){var n,r=0,a=(t=t.slice()).length-1,s=t[r],o=t[a];return o<s&&(n=r,r=a,a=n,n=s,s=o,o=n),t[r]=e.floor(s),t[a]=e.ceil(o),t}(n,t)):c},c.copy=function(){return w(c,un(t,e,n,r,a,s,o,u,i,l))},c}function ln(){return D.apply(un(mt,pt,ht,ft,q,G,B,X,R,ae).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}Date.prototype.toISOString||se(an),+new Date("2000-01-01T00:00:00.000Z")||oe(an);function cn(u){var i;const l=u.perfData();if(!l)return null;const c=Math.floor(l.stat.count.seconds/86400),f=Math.floor(l.stat.count.seconds/3600)-24*c,g=Math.floor(l.stat.count.seconds/60)-24*c*60-60*f,h=Date.now()-94608e6,d=0===l.graph.length?null:function(t){const e=t.slice(),n=t.slice().reverse(),r=e[0].date,a=e[e.length-1].date,s=[];for(let t=new Date(r);t<=a;t.setDate(t.getDate()+1))s.push(new Date(t));const o=[];return s.forEach((t=>{const e=n.find((e=>e.date<=t));e&&o.push({date:t,rating:e.rating})})),o}(l.graph.map(gn).filter((t=>t.date.getTime()>h))),{vw:v}=t();return e("div",{class:"variantPerfBody native_scroller page"},d&&d.length>=3?e("div",null,e("svg",{width:v-20,height:"230",id:"variantPerf-graph",className:"variantPerf-graph",oncreate:({dom:t})=>function(t,e){setTimeout((()=>function(t,e){if(e){const r=P(e),a={top:0,right:20,bottom:40,left:30},s=+r.attr("width")-a.left-a.right,o=+r.attr("height")-a.top-a.bottom,u=r.append("g").attr("transform","translate("+a.left+","+a.top+")"),i=ln().domain([t[0].date,t[t.length-1].date]).rangeRound([0,s]),l=t.map((t=>t.rating)),c=F().domain([Math.min.apply(null,l)-50,Math.max.apply(null,l)+50]).rangeRound([o,0]),f=S().x((t=>i(t.date))).y((t=>c(t.rating))),g=Y(c).tickFormat((t=>String(t))),h=x(i).tickFormat(mn);u.append("g").attr("transform","translate(0,"+o+")").call(h).selectAll("text").attr("y",0).attr("x",9).attr("dy",".35em").attr("transform","rotate(60)").style("text-anchor","start").select(".domain").remove(),u.append("g").call(g).append("text").attr("class","legend").attr("transform","rotate(-90)").attr("y",6).attr("dy","0.71em").attr("text-anchor","end").text(n("rating")),u.append("path").attr("class","path").attr("fill","none").attr("stroke","blue").attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("stroke-width",1.5).attr("d",f(t))}}(t,e)),500)}(d,t),key:(a(),"portrait")})):null,e("table",{class:"variantPerf"},e("tbody",null,e("tr",null,e("th",{class:"variantPerfHeading",colspan:"3"}," ",n("yourRating")," ")),e("tr",null,e("th",{class:"variantPerf"}," ",n("rating")," "),e("td",{class:"variantPerf"}," ",l.perf.glicko.rating+(l.perf.glicko.provisional?"?":"")," "),e("td",null," ")),e("tr",{class:fn(l.perf.progress)},e("th",{class:"variantPerf"}," ",n("progressOverLastXGames","12").split(":")[0]," "),e("td",{class:"variantPerf"}," ",r(l.perf.progress)," "),e("td",null," ")),e("tr",{class:fn(l.rank)},e("th",{class:"variantPerf"}," ",n("rank")," "),e("td",{class:"variantPerf"}," ",null===l.rank?"":l.rank," "),e("td",null," ")),e("tr",{class:fn(l.percentile)},e("th",{class:"variantPerf"}," Percentile "),e("td",{class:"variantPerf"}," ",null===l.percentile?"":l.percentile+"%"," "),e("td",null," ")),e("tr",null," ",e("td",{class:"variantPerfSpacer",colspan:"3"}," ")," "),e("tr",null,e("th",{class:"variantPerfHeading",colspan:"3"},n("ratingStats"))),e("tr",null,e("th",{class:"variantPerf"}," ",n("averageOpponent")," "),e("td",{class:"variantPerf"}," ",l.stat.count.opAvg," "),e("td",null," ")),e("tr",{class:fn(l.stat.highest)},e("th",{class:"variantPerf"}," ",n("highestRating",0).split(":")[0]," "),e("td",{class:"variantPerf"}," ",e("span",{class:"progress positive"}," ",l.stat.highest?l.stat.highest.int:""," ")," "),e("td",{class:"variantPerf"}," ",e("span",{class:"progress positive"}," ",l.stat.highest?l.stat.highest.at.substring(0,10):""," ")," ")),e("tr",{class:fn(l.stat.lowest)},e("th",{class:"variantPerf"}," ",n("lowestRating",0).split(":")[0]," "),e("td",{class:"variantPerf"}," ",e("span",{class:"progress positive"}," ",l.stat.lowest?l.stat.lowest.int:""," ")," "),e("td",{class:"variantPerf"}," ",e("span",{class:"progress positive"}," ",l.stat.lowest?l.stat.lowest.at.substring(0,10):""," ")," ")),e("tr",null,e("th",{class:"variantPerf"}," ",n("timeSpentPlaying",0).split(":")[0]," "),e("td",{class:"variantPerf",colspan:"2"}," ",(c>0?c+"d, ":"")+f+"h, "+g+"m"," ")),e("tr",null," ",e("td",{class:"variantPerfSpacer",colspan:"3"}," ")," "),e("tr",null,e("th",{class:"variantPerfHeading",colspan:"3"}," ",n("games")," ")),e("tr",null,e("th",{class:"variantPerf"}," ",n("wins")," "),e("td",{class:"variantPerf"}," ",e("span",{class:"progress positive"}," ",l.stat.count.win," ")," "),e("td",{class:"variantPerf"}," ",e("span",{class:"progress positive"}," ",Math.round(l.stat.count.win/l.stat.count.all*100)+"%"," ")," ")),e("tr",null,e("th",{class:"variantPerf"}," ",n("draws")," "),e("td",{class:"variantPerf"}," ",l.stat.count.draw," "),e("td",{class:"variantPerf"}," ",Math.round(l.stat.count.draw/l.stat.count.all*100)+"%"," ")),e("tr",null,e("th",{class:"variantPerf"}," ",n("losses")," "),e("td",{class:"variantPerf sumLine"}," ",e("span",{class:"progress negative"}," ",l.stat.count.loss," ")," "),e("td",{class:"variantPerf"}," ",e("span",{class:"progress negative"}," ",Math.round(l.stat.count.loss/l.stat.count.all*100)+"%"," ")," ")),e("tr",null,e("th",{class:"variantPerf"}," ",n("totalGames")," "),e("td",{class:"variantPerf"}," ",l.stat.count.all," "),e("td",null," ")),e("tr",null,e("th",{class:"variantPerfMemo"}," ",n("rated")," "),e("td",{class:"variantPerfMemo"}," ",l.stat.count.rated," "),e("td",{class:"variantPerfMemo"}," ",Math.round(l.stat.count.rated/l.stat.count.all*100)+"%"," ")),e("tr",null,e("th",{class:"variantPerfMemo"}," ",n("tournament")," "),e("td",{class:"variantPerfMemo"}," ",l.stat.count.tour," "),e("td",{class:"variantPerfMemo"}," ",Math.round(l.stat.count.tour/l.stat.count.all*100)+"%"," ")),e("tr",null,e("th",{class:"variantPerfMemo"}," ",n("berserkedGames")," "),e("td",{class:"variantPerfMemo"}," ",l.stat.count.berserk," "),e("td",{class:"variantPerfMemo"}," ",Math.round(l.stat.count.berserk/l.stat.count.all*100)+"%"," ")),e("tr",null,e("th",{class:"variantPerfMemo"}," ",n("disconnections")," "),e("td",{class:"variantPerfMemo"}," ",l.stat.count.disconnects," "),e("td",{class:"variantPerfMemo"}," ",Math.round(l.stat.count.disconnects/l.stat.count.all*100)+"%"," ")),e("tr",null," ",e("td",{class:"variantPerfSpacer",colspan:"3"}," ")," "),e("tr",null,e("th",{class:"variantPerfHeading",colspan:"3"}," Streaks ")),e("tr",{class:fn(l.stat.playStreak)},e("th",{class:"variantPerf"}," ",n("gamesInARow")," "),e("td",{class:"variantPerf"}," ",l.stat.playStreak.nb.max.v," "),e("td",{class:"variantPerf"}," ",(null===(i=l.stat.playStreak.nb.max.from)||void 0===i?void 0:i.at)&&l.stat.playStreak.nb.max.from.at.substring(0,10)," ")),e("tr",{class:fn(l.stat.resultStreak.win.max.v)},e("th",{class:"variantPerf"}," ",n("winningStreak")," "),e("td",{class:"variantPerf"}," ",e("span",{class:"progress positive"}," ",l.stat.resultStreak.win.max.v?l.stat.resultStreak.win.max.v:""," ")," "),e("td",{class:"variantPerf"}," ",e("span",{class:"progress positive"}," ",l.stat.resultStreak.win.max.to?l.stat.resultStreak.win.max.to.at.substring(0,10):""," ")," ")),e("tr",{class:fn(l.stat.resultStreak.loss.max.v)},e("th",{class:"variantPerf"}," ",n("losingStreak")),e("td",{class:"variantPerf"}," ",e("span",{class:"progress negative"}," ",l.stat.resultStreak.loss.max.v?l.stat.resultStreak.loss.max.v:""," ")," "),e("td",{class:"variantPerf"}," ",e("span",{class:"progress negative"}," ",l.stat.resultStreak.loss.max.to?l.stat.resultStreak.loss.max.to.at.substring(0,10):""," ")," ")),e("tr",null," ",e("td",{class:"variantPerfSpacer",colspan:"3"}," ")," "))),e("div",{class:"variantPerfGames noPadding "+fn(l.stat.bestWins.results.length)},e("div",{class:"variantPerfHeading"}," ",n("bestRated")," "),l.stat.bestWins.results.map((t=>function(t){const n=(null===t.opId.title?"":t.opId.title)+" "+t.opId.name,r=t.at.substring(0,10),a=t.gameId;return e("div",{class:"list_item nav",oncreate:s((()=>o.set("/analyse/online/"+a)))},n," (",r,")")}(t)))))}function fn(t){return t?"":"empty"}function gn(t){return{date:new Date(t[0],t[1],t[2]),rating:t[3]}}const hn=ae("%b %d"),dn=ae("%b"),vn=ae("%Y");function mn(t){return(Zt(t)<t?hn:zt(t)<t?dn:vn)(t)}var pn={oncreate:u,oninit(t){const e=t.attrs.id,n=t.attrs.perf;this.user=i(null),this.perfData=i(null),l.createDefault(),c.spin(),Promise.all([m(e,!1),p(e,n)]).then((t=>{c.stop();const[e,n]=t;this.user(e),this.perfData(n),f()})).catch((t=>{c.stop(),g(t)}))},view(t){const r=t.attrs.id,a=t.attrs.perf,s=h(null,d(e("div.main_header_title",[e("span.withIcon",{"data-icon":v(a)}),r+" "+n("perfStats",T(a))])));return M.free(s,cn(this))}};export{pn as default};
