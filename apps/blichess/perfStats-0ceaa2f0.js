import{x as t,m as e,o as n,ar as r,ay as a,p as s,k as o,c8 as u,a7 as i,aD as l,r as c,a3 as f,aC as g,ag as h,ai as d}from"./main.js";import{u as v,v as p}from"./userXhr-e893d0da.js";import{s as m}from"./perfs-d8ca398c.js";import{l as T}from"./layout-b3635a82.js";import{e as M,t as C,i as U,f as D,g as y,s as w,b as P,l as F,d as S,h as Y}from"./axis-de48d5f2.js";const x=new Date,H=new Date;function k(t,e,n,r){function a(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return a.floor=e=>(t(e=new Date(+e)),e),a.ceil=n=>(t(n=new Date(n-1)),e(n,1),t(n),n),a.round=t=>{const e=a(t),n=a.ceil(t);return t-e<n-t?e:n},a.offset=(t,n)=>(e(t=new Date(+t),null==n?1:Math.floor(n)),t),a.range=(n,r,s)=>{const o=[];if(n=a.ceil(n),s=null==s?1:Math.floor(s),!(n<r&&s>0))return o;let u;do{o.push(u=new Date(+n)),e(n,s),t(n)}while(u<n&&n<r);return o},a.filter=n=>k((e=>{if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),((t,r)=>{if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})),n&&(a.count=(e,r)=>(x.setTime(+e),H.setTime(+r),t(x),t(H),Math.floor(n(x,H))),a.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?a.filter(r?e=>r(e)%t==0:e=>a.count(0,e)%t==0):a:null)),a}const b=k((()=>{}),((t,e)=>{t.setTime(+t+e)}),((t,e)=>e-t));b.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?k((e=>{e.setTime(Math.floor(e/t)*t)}),((e,n)=>{e.setTime(+e+n*t)}),((e,n)=>(n-e)/t)):b:null),b.range;const A=1e3,L=6e4,O=36e5,I=864e5,j=6048e5,W=2592e6,Z=31536e6,z=k((t=>{t.setTime(t-t.getMilliseconds())}),((t,e)=>{t.setTime(+t+e*A)}),((t,e)=>(e-t)/A),(t=>t.getUTCSeconds()));z.range;const R=k((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*A)}),((t,e)=>{t.setTime(+t+e*L)}),((t,e)=>(e-t)/L),(t=>t.getMinutes()));R.range;const X=k((t=>{t.setUTCSeconds(0,0)}),((t,e)=>{t.setTime(+t+e*L)}),((t,e)=>(e-t)/L),(t=>t.getUTCMinutes()));X.range;const J=k((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*A-t.getMinutes()*L)}),((t,e)=>{t.setTime(+t+e*O)}),((t,e)=>(e-t)/O),(t=>t.getHours()));J.range;const B=k((t=>{t.setUTCMinutes(0,0,0)}),((t,e)=>{t.setTime(+t+e*O)}),((t,e)=>(e-t)/O),(t=>t.getUTCHours()));B.range;const _=k((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*L)/I),(t=>t.getDate()-1));_.range;const G=k((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/I),(t=>t.getUTCDate()-1));G.range;const N=k((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/I),(t=>Math.floor(t/I)));function E(t){return k((e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),((t,e)=>{t.setDate(t.getDate()+7*e)}),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*L)/j))}N.range;const $=E(0),q=E(1),K=E(2),Q=E(3),V=E(4),tt=E(5),et=E(6);function nt(t){return k((e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)}),((t,e)=>(e-t)/j))}$.range,q.range,K.range,Q.range,V.range,tt.range,et.range;const rt=nt(0),at=nt(1),st=nt(2),ot=nt(3),ut=nt(4),it=nt(5),lt=nt(6);rt.range,at.range,st.range,ot.range,ut.range,it.range,lt.range;const ct=k((t=>{t.setDate(1),t.setHours(0,0,0,0)}),((t,e)=>{t.setMonth(t.getMonth()+e)}),((t,e)=>e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())),(t=>t.getMonth()));ct.range;const ft=k((t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)}),((t,e)=>e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())),(t=>t.getUTCMonth()));ft.range;const gt=k((t=>{t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,e)=>{t.setFullYear(t.getFullYear()+e)}),((t,e)=>e.getFullYear()-t.getFullYear()),(t=>t.getFullYear()));gt.every=t=>isFinite(t=Math.floor(t))&&t>0?k((e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,n)=>{e.setFullYear(e.getFullYear()+n*t)})):null,gt.range;const ht=k((t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)}),((t,e)=>e.getUTCFullYear()-t.getUTCFullYear()),(t=>t.getUTCFullYear()));function dt(t,e,n,r,a,s){const o=[[z,1,A],[z,5,5e3],[z,15,15e3],[z,30,3e4],[s,1,L],[s,5,3e5],[s,15,9e5],[s,30,18e5],[a,1,O],[a,3,108e5],[a,6,216e5],[a,12,432e5],[r,1,I],[r,2,1728e5],[n,1,j],[e,1,W],[e,3,7776e6],[t,1,Z]];function u(e,n,r){const a=Math.abs(n-e)/r,s=M((([,,t])=>t)).right(o,a);if(s===o.length)return t.every(C(e/Z,n/Z,r));if(0===s)return b.every(Math.max(C(e,n,r),1));const[u,i]=o[a/o[s-1][2]<o[s][2]/a?s-1:s];return u.every(i)}return[function(t,e,n){const r=e<t;r&&([t,e]=[e,t]);const a=n&&"function"==typeof n.range?n:u(t,e,n),s=a?a.range(t,+e+1):[];return r?s.reverse():s},u]}ht.every=t=>isFinite(t=Math.floor(t))&&t>0?k((e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null,ht.range,dt(ht,ft,rt,N,B,X);const[vt,pt]=dt(gt,ct,$,_,J,R);var mt=new Date,Tt=new Date;function Mt(t,e,n,r){function a(e){return t(e=new Date(+e)),e}return a.floor=a,a.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},a.round=function(t){var e=a(t),n=a.ceil(t);return t-e<n-t?e:n},a.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},a.range=function(n,r,s){var o=[];if(n=a.ceil(n),s=null==s?1:Math.floor(s),!(n<r&&s>0))return o;do{o.push(new Date(+n))}while(e(n,s),t(n),n<r);return o},a.filter=function(n){return Mt((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(a.count=function(e,r){return mt.setTime(+e),Tt.setTime(+r),t(mt),t(Tt),Math.floor(n(mt,Tt))},a.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?a.filter(r?function(e){return r(e)%t==0}:function(e){return a.count(0,e)%t==0}):a:null}),a}var Ct=Mt((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));Ct.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Mt((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):Ct:null},Ct.range;var Ut=1e3,Dt=6e4,yt=36e5,wt=864e5,Pt=6048e5,Ft=Mt((function(t){t.setTime(Math.floor(t/Ut)*Ut)}),(function(t,e){t.setTime(+t+e*Ut)}),(function(t,e){return(e-t)/Ut}),(function(t){return t.getUTCSeconds()}));Ft.range;var St=Mt((function(t){t.setTime(Math.floor(t/Dt)*Dt)}),(function(t,e){t.setTime(+t+e*Dt)}),(function(t,e){return(e-t)/Dt}),(function(t){return t.getMinutes()}));St.range;var Yt=Mt((function(t){var e=t.getTimezoneOffset()*Dt%yt;e<0&&(e+=yt),t.setTime(Math.floor((+t-e)/yt)*yt+e)}),(function(t,e){t.setTime(+t+e*yt)}),(function(t,e){return(e-t)/yt}),(function(t){return t.getHours()}));Yt.range;var xt=Mt((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Dt)/wt}),(function(t){return t.getDate()-1}));function Ht(t){return Mt((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Dt)/Pt}))}xt.range;var kt=Ht(0),bt=Ht(1),At=Ht(2),Lt=Ht(3),Ot=Ht(4),It=Ht(5),jt=Ht(6);kt.range,bt.range,At.range,Lt.range,Ot.range,It.range,jt.range;var Wt=Mt((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}));Wt.range;var Zt=Mt((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));Zt.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Mt((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null},Zt.range;var zt=Mt((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*Dt)}),(function(t,e){return(e-t)/Dt}),(function(t){return t.getUTCMinutes()}));zt.range;var Rt=Mt((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*yt)}),(function(t,e){return(e-t)/yt}),(function(t){return t.getUTCHours()}));Rt.range;var Xt=Mt((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/wt}),(function(t){return t.getUTCDate()-1}));function Jt(t){return Mt((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/Pt}))}Xt.range;var Bt=Jt(0),_t=Jt(1),Gt=Jt(2),Nt=Jt(3),Et=Jt(4),$t=Jt(5),qt=Jt(6);Bt.range,_t.range,Gt.range,Nt.range,Et.range,$t.range,qt.range;var Kt=Mt((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()}));Kt.range;var Qt=Mt((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));function Vt(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function te(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ee(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}Qt.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Mt((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null},Qt.range;var ne,re,ae,se,oe={"-":"",_:" ",0:"0"},ue=/^\s*\d+/,ie=/^%/,le=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;function ce(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",s=a.length;return r+(s<n?new Array(n-s+1).join(e)+a:a)}function fe(t){return t.replace(le,"\\$&")}function ge(t){return new RegExp("^(?:"+t.map(fe).join("|")+")","i")}function he(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function de(t,e,n){var r=ue.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function ve(t,e,n){var r=ue.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function pe(t,e,n){var r=ue.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function me(t,e,n){var r=ue.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Te(t,e,n){var r=ue.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Me(t,e,n){var r=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ce(t,e,n){var r=ue.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Ue(t,e,n){var r=ue.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function De(t,e,n){var r=ue.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function ye(t,e,n){var r=ue.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function we(t,e,n){var r=ue.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Pe(t,e,n){var r=ue.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Fe(t,e,n){var r=ue.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Se(t,e,n){var r=ie.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Ye(t,e){return ce(t.getDate(),e,2)}function xe(t,e){return ce(t.getHours(),e,2)}function He(t,e){return ce(t.getHours()%12||12,e,2)}function ke(t,e){return ce(1+xt.count(Zt(t),t),e,3)}function be(t,e){return ce(t.getMilliseconds(),e,3)}function Ae(t,e){return ce(t.getMonth()+1,e,2)}function Le(t,e){return ce(t.getMinutes(),e,2)}function Oe(t,e){return ce(t.getSeconds(),e,2)}function Ie(t,e){return ce(kt.count(Zt(t),t),e,2)}function je(t){return t.getDay()}function We(t,e){return ce(bt.count(Zt(t),t),e,2)}function Ze(t,e){return ce(t.getFullYear()%100,e,2)}function ze(t,e){return ce(t.getFullYear()%1e4,e,4)}function Re(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ce(e/60|0,"0",2)+ce(e%60,"0",2)}function Xe(t,e){return ce(t.getUTCDate(),e,2)}function Je(t,e){return ce(t.getUTCHours(),e,2)}function Be(t,e){return ce(t.getUTCHours()%12||12,e,2)}function _e(t,e){return ce(1+Xt.count(Qt(t),t),e,3)}function Ge(t,e){return ce(t.getUTCMilliseconds(),e,3)}function Ne(t,e){return ce(t.getUTCMonth()+1,e,2)}function Ee(t,e){return ce(t.getUTCMinutes(),e,2)}function $e(t,e){return ce(t.getUTCSeconds(),e,2)}function qe(t,e){return ce(Bt.count(Qt(t),t),e,2)}function Ke(t){return t.getUTCDay()}function Qe(t,e){return ce(_t.count(Qt(t),t),e,2)}function Ve(t,e){return ce(t.getUTCFullYear()%100,e,2)}function tn(t,e){return ce(t.getUTCFullYear()%1e4,e,4)}function en(){return"+0000"}function nn(){return"%"}ne=function(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,s=t.days,o=t.shortDays,u=t.months,i=t.shortMonths,l=ge(a),c=he(a),f=ge(s),g=he(s),h=ge(o),d=he(o),v=ge(u),p=he(u),m=ge(i),T=he(i),M={a:function(t){return o[t.getDay()]},A:function(t){return s[t.getDay()]},b:function(t){return i[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:Ye,e:Ye,H:xe,I:He,j:ke,L:be,m:Ae,M:Le,p:function(t){return a[+(t.getHours()>=12)]},S:Oe,U:Ie,w:je,W:We,x:null,X:null,y:Ze,Y:ze,Z:Re,"%":nn},C={a:function(t){return o[t.getUTCDay()]},A:function(t){return s[t.getUTCDay()]},b:function(t){return i[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:Xe,e:Xe,H:Je,I:Be,j:_e,L:Ge,m:Ne,M:Ee,p:function(t){return a[+(t.getUTCHours()>=12)]},S:$e,U:qe,w:Ke,W:Qe,x:null,X:null,y:Ve,Y:tn,Z:en,"%":nn},U={a:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=d[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=g[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=T[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=p[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return w(t,e,n,r)},d:Ue,e:Ue,H:ye,I:ye,j:De,L:Fe,m:Ce,M:we,p:function(t,e,n){var r=l.exec(e.slice(n));return r?(t.p=c[r[0].toLowerCase()],n+r[0].length):-1},S:Pe,U:ve,w:de,W:pe,x:function(t,e,r){return w(t,n,e,r)},X:function(t,e,n){return w(t,r,e,n)},y:Te,Y:me,Z:Me,"%":Se};function D(t,e){return function(n){var r,a,s,o=[],u=-1,i=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++u<l;)37===t.charCodeAt(u)&&(o.push(t.slice(i,u)),null!=(a=oe[r=t.charAt(++u)])?r=t.charAt(++u):a="e"===r?" ":"0",(s=e[r])&&(r=s(n,a)),o.push(r),i=u+1);return o.push(t.slice(i,u)),o.join("")}}function y(t,e){return function(n){var r=ee(1900);if(w(r,t,n+="",0)!=n.length)return null;if("p"in r&&(r.H=r.H%12+12*r.p),"W"in r||"U"in r){"w"in r||(r.w="W"in r?1:0);var a="Z"in r?te(ee(r.y)).getUTCDay():e(ee(r.y)).getDay();r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(a+5)%7:r.w+7*r.U-(a+6)%7}return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,te(r)):e(r)}}function w(t,e,n,r){for(var a,s,o=0,u=e.length,i=n.length;o<u;){if(r>=i)return-1;if(37===(a=e.charCodeAt(o++))){if(a=e.charAt(o++),!(s=U[a in oe?e.charAt(o++):a])||(r=s(t,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}return M.x=D(n,M),M.X=D(r,M),M.c=D(e,M),C.x=D(n,C),C.X=D(r,C),C.c=D(e,C),{format:function(t){var e=D(t+="",M);return e.toString=function(){return t},e},parse:function(t){var e=y(t+="",Vt);return e.toString=function(){return t},e},utcFormat:function(t){var e=D(t+="",C);return e.toString=function(){return t},e},utcParse:function(t){var e=y(t,te);return e.toString=function(){return t},e}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),re=ne.format,ne.parse,ae=ne.utcFormat,se=ne.utcParse;var rn="%Y-%m-%dT%H:%M:%S.%LZ";function an(t){return new Date(t)}function sn(t){return t instanceof Date?+t:+new Date(+t)}function on(t,e,n,r,a,s,o,u,i,l){var c=D(),f=c.invert,g=c.domain,h=l(".%L"),d=l(":%S"),v=l("%I:%M"),p=l("%I %p"),m=l("%a %d"),T=l("%b %d"),M=l("%B"),C=l("%Y");function U(t){return(i(t)<t?h:u(t)<t?d:o(t)<t?v:s(t)<t?p:r(t)<t?a(t)<t?m:T:n(t)<t?M:C)(t)}return c.invert=function(t){return new Date(f(t))},c.domain=function(t){return arguments.length?g(Array.from(t,sn)):g().map(an)},c.ticks=function(e){var n=g();return t(n[0],n[n.length-1],null==e?10:e)},c.tickFormat=function(t,e){return null==e?U:l(e)},c.nice=function(t){var n=g();return t&&"function"==typeof t.range||(t=e(n[0],n[n.length-1],null==t?10:t)),t?g(function(t,e){var n,r=0,a=(t=t.slice()).length-1,s=t[r],o=t[a];return o<s&&(n=r,r=a,a=n,n=s,s=o,o=n),t[r]=e.floor(s),t[a]=e.ceil(o),t}(n,t)):c},c.copy=function(){return y(c,on(t,e,n,r,a,s,o,u,i,l))},c}function un(){return U.apply(on(vt,pt,gt,ct,$,_,J,R,z,re).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}Date.prototype.toISOString||ae(rn),+new Date("2000-01-01T00:00:00.000Z")||se(rn);function ln(u){var i;const l=u.perfData();if(!l)return null;const c=Math.floor(l.stat.count.seconds/86400),f=Math.floor(l.stat.count.seconds/3600)-24*c,g=Math.floor(l.stat.count.seconds/60)-24*c*60-60*f,h=Date.now()-94608e6,d=0===l.graph.length?null:function(t){const e=t.slice(),n=t.slice().reverse(),r=e[0].date,a=e[e.length-1].date,s=[];for(let t=new Date(r);t<=a;t.setDate(t.getDate()+1))s.push(new Date(t));const o=[];return s.forEach((t=>{const e=n.find((e=>e.date<=t));e&&o.push({date:t,rating:e.rating})})),o}(l.graph.map(fn).filter((t=>t.date.getTime()>h))),{vw:v}=t();return e("div",{class:"variantPerfBody native_scroller page"},d&&d.length>=3?e("div",null,e("svg",{width:v-20,height:"230",id:"variantPerf-graph",className:"variantPerf-graph",oncreate:({dom:t})=>function(t,e){setTimeout((()=>function(t,e){if(e){const r=w(e),a={top:0,right:20,bottom:40,left:30},s=+r.attr("width")-a.left-a.right,o=+r.attr("height")-a.top-a.bottom,u=r.append("g").attr("transform","translate("+a.left+","+a.top+")"),i=un().domain([t[0].date,t[t.length-1].date]).rangeRound([0,s]),l=t.map((t=>t.rating)),c=P().domain([Math.min.apply(null,l)-50,Math.max.apply(null,l)+50]).rangeRound([o,0]),f=F().x((t=>i(t.date))).y((t=>c(t.rating))),g=S(c).tickFormat((t=>String(t))),h=Y(i).tickFormat(vn);u.append("g").attr("transform","translate(0,"+o+")").call(h).selectAll("text").attr("y",0).attr("x",9).attr("dy",".35em").attr("transform","rotate(60)").style("text-anchor","start").select(".domain").remove(),u.append("g").call(g).append("text").attr("class","legend").attr("transform","rotate(-90)").attr("y",6).attr("dy","0.71em").attr("text-anchor","end").text(n("rating")),u.append("path").attr("class","path").attr("fill","none").attr("stroke","blue").attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("stroke-width",1.5).attr("d",f(t))}}(t,e)),500)}(d,t),key:(a(),"portrait")})):null,e("table",{class:"variantPerf"},e("tbody",null,e("tr",null,e("th",{class:"variantPerfHeading",colspan:"3"}," ",n("yourRating")," ")),e("tr",null,e("th",{class:"variantPerf"}," ",n("rating")," "),e("td",{class:"variantPerf"}," ",l.perf.glicko.rating+(l.perf.glicko.provisional?"?":"")," "),e("td",null," ")),e("tr",{class:cn(l.perf.progress)},e("th",{class:"variantPerf"}," ",n("progressOverLastXGames","12").split(":")[0]," "),e("td",{class:"variantPerf"}," ",r(l.perf.progress)," "),e("td",null," ")),e("tr",{class:cn(l.rank)},e("th",{class:"variantPerf"}," ",n("rank")," "),e("td",{class:"variantPerf"}," ",null===l.rank?"":l.rank," "),e("td",null," ")),e("tr",{class:cn(l.percentile)},e("th",{class:"variantPerf"}," Percentile "),e("td",{class:"variantPerf"}," ",null===l.percentile?"":l.percentile+"%"," "),e("td",null," ")),e("tr",null," ",e("td",{class:"variantPerfSpacer",colspan:"3"}," ")," "),e("tr",null,e("th",{class:"variantPerfHeading",colspan:"3"},n("ratingStats"))),e("tr",null,e("th",{class:"variantPerf"}," ",n("averageOpponent")," "),e("td",{class:"variantPerf"}," ",l.stat.count.opAvg," "),e("td",null," ")),e("tr",{class:cn(l.stat.highest)},e("th",{class:"variantPerf"}," ",n("highestRating",0).split(":")[0]," "),e("td",{class:"variantPerf"}," ",e("span",{class:"progress positive"}," ",l.stat.highest?l.stat.highest.int:""," ")," "),e("td",{class:"variantPerf"}," ",e("span",{class:"progress positive"}," ",l.stat.highest?l.stat.highest.at.substring(0,10):""," ")," ")),e("tr",{class:cn(l.stat.lowest)},e("th",{class:"variantPerf"}," ",n("lowestRating",0).split(":")[0]," "),e("td",{class:"variantPerf"}," ",e("span",{class:"progress positive"}," ",l.stat.lowest?l.stat.lowest.int:""," ")," "),e("td",{class:"variantPerf"}," ",e("span",{class:"progress positive"}," ",l.stat.lowest?l.stat.lowest.at.substring(0,10):""," ")," ")),e("tr",null,e("th",{class:"variantPerf"}," ",n("timeSpentPlaying",0).split(":")[0]," "),e("td",{class:"variantPerf",colspan:"2"}," ",(c>0?c+"d, ":"")+f+"h, "+g+"m"," ")),e("tr",null," ",e("td",{class:"variantPerfSpacer",colspan:"3"}," ")," "),e("tr",null,e("th",{class:"variantPerfHeading",colspan:"3"}," ",n("games")," ")),e("tr",null,e("th",{class:"variantPerf"}," ",n("wins")," "),e("td",{class:"variantPerf"}," ",e("span",{class:"progress positive"}," ",l.stat.count.win," ")," "),e("td",{class:"variantPerf"}," ",e("span",{class:"progress positive"}," ",Math.round(l.stat.count.win/l.stat.count.all*100)+"%"," ")," ")),e("tr",null,e("th",{class:"variantPerf"}," ",n("draws")," "),e("td",{class:"variantPerf"}," ",l.stat.count.draw," "),e("td",{class:"variantPerf"}," ",Math.round(l.stat.count.draw/l.stat.count.all*100)+"%"," ")),e("tr",null,e("th",{class:"variantPerf"}," ",n("losses")," "),e("td",{class:"variantPerf sumLine"}," ",e("span",{class:"progress negative"}," ",l.stat.count.loss," ")," "),e("td",{class:"variantPerf"}," ",e("span",{class:"progress negative"}," ",Math.round(l.stat.count.loss/l.stat.count.all*100)+"%"," ")," ")),e("tr",null,e("th",{class:"variantPerf"}," ",n("totalGames")," "),e("td",{class:"variantPerf"}," ",l.stat.count.all," "),e("td",null," ")),e("tr",null,e("th",{class:"variantPerfMemo"}," ",n("rated")," "),e("td",{class:"variantPerfMemo"}," ",l.stat.count.rated," "),e("td",{class:"variantPerfMemo"}," ",Math.round(l.stat.count.rated/l.stat.count.all*100)+"%"," ")),e("tr",null,e("th",{class:"variantPerfMemo"}," ",n("tournament")," "),e("td",{class:"variantPerfMemo"}," ",l.stat.count.tour," "),e("td",{class:"variantPerfMemo"}," ",Math.round(l.stat.count.tour/l.stat.count.all*100)+"%"," ")),e("tr",null,e("th",{class:"variantPerfMemo"}," ",n("berserkedGames")," "),e("td",{class:"variantPerfMemo"}," ",l.stat.count.berserk," "),e("td",{class:"variantPerfMemo"}," ",Math.round(l.stat.count.berserk/l.stat.count.all*100)+"%"," ")),e("tr",null,e("th",{class:"variantPerfMemo"}," ",n("disconnections")," "),e("td",{class:"variantPerfMemo"}," ",l.stat.count.disconnects," "),e("td",{class:"variantPerfMemo"}," ",Math.round(l.stat.count.disconnects/l.stat.count.all*100)+"%"," ")),e("tr",null," ",e("td",{class:"variantPerfSpacer",colspan:"3"}," ")," "),e("tr",null,e("th",{class:"variantPerfHeading",colspan:"3"}," Streaks ")),e("tr",{class:cn(l.stat.playStreak)},e("th",{class:"variantPerf"}," ",n("gamesInARow")," "),e("td",{class:"variantPerf"}," ",l.stat.playStreak.nb.max.v," "),e("td",{class:"variantPerf"}," ",(null===(i=l.stat.playStreak.nb.max.from)||void 0===i?void 0:i.at)&&l.stat.playStreak.nb.max.from.at.substring(0,10)," ")),e("tr",{class:cn(l.stat.resultStreak.win.max.v)},e("th",{class:"variantPerf"}," ",n("winningStreak")," "),e("td",{class:"variantPerf"}," ",e("span",{class:"progress positive"}," ",l.stat.resultStreak.win.max.v?l.stat.resultStreak.win.max.v:""," ")," "),e("td",{class:"variantPerf"}," ",e("span",{class:"progress positive"}," ",l.stat.resultStreak.win.max.to?l.stat.resultStreak.win.max.to.at.substring(0,10):""," ")," ")),e("tr",{class:cn(l.stat.resultStreak.loss.max.v)},e("th",{class:"variantPerf"}," ",n("losingStreak")),e("td",{class:"variantPerf"}," ",e("span",{class:"progress negative"}," ",l.stat.resultStreak.loss.max.v?l.stat.resultStreak.loss.max.v:""," ")," "),e("td",{class:"variantPerf"}," ",e("span",{class:"progress negative"}," ",l.stat.resultStreak.loss.max.to?l.stat.resultStreak.loss.max.to.at.substring(0,10):""," ")," ")),e("tr",null," ",e("td",{class:"variantPerfSpacer",colspan:"3"}," ")," "))),e("div",{class:"variantPerfGames noPadding "+cn(l.stat.bestWins.results.length)},e("div",{class:"variantPerfHeading"}," ",n("bestRated")," "),l.stat.bestWins.results.map((t=>function(t){const n=(null===t.opId.title?"":t.opId.title)+" "+t.opId.name,r=t.at.substring(0,10),a=t.gameId;return e("div",{class:"list_item nav",oncreate:s((()=>o.set("/analyse/online/"+a)))},n," (",r,")")}(t)))))}function cn(t){return t?"":"empty"}function fn(t){return{date:new Date(t[0],t[1],t[2]),rating:t[3]}}const gn=re("%b %d"),hn=re("%b"),dn=re("%Y");function vn(t){return(Wt(t)<t?gn:Zt(t)<t?hn:dn)(t)}var pn={oncreate:u,oninit(t){const e=t.attrs.id,n=t.attrs.perf;this.user=i(null),this.perfData=i(null),l.spin(),Promise.all([v(e,!1),p(e,n)]).then((t=>{l.stop();const[e,n]=t;this.user(e),this.perfData(n),c()})).catch((t=>{l.stop(),f(t)}))},view(t){const r=t.attrs.id,a=t.attrs.perf,s=g(null,h(e("div.main_header_title",[e("span.withIcon",{"data-icon":d(a)}),r+" "+n("perfStats",m(a))])));return T.free(s,ln(this))}};export{pn as default};
